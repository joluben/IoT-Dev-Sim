# =============================================================================
# DevSim Production Environment Configuration
# =============================================================================
# Generated on: 2025-10-10T17:44:57.487070
# 
# SECURITY WARNING: This template contains NO actual secrets.
# Secrets are stored in Docker secrets files in the secrets/ directory.
# 
# For production deployment:
# 1. Use Docker secrets or external secret manager
# 2. Never commit actual secrets to version control
# 3. Rotate credentials every 90 days
# =============================================================================

# =============================================================================
# FLASK CONFIGURATION
# =============================================================================
FLASK_ENV=production
FLASK_DEBUG=false

# Secrets are loaded from Docker secrets files:
# - SECRET_KEY from /run/secrets/secret_key
# - ENCRYPTION_KEY from /run/secrets/encryption_key  
# - JWT_SECRET_KEY from /run/secrets/jwt_secret_key

ENCRYPTION_KEY_VERSION=2

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
ALLOW_SENSITIVE_CONNECTIONS=false
FORCE_HTTPS=true
HSTS_MAX_AGE=31536000

# SSL/TLS Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/etc/letsencrypt/live/DOMAIN_PLACEHOLDER/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/DOMAIN_PLACEHOLDER/privkey.pem

# Domain Configuration (replace with your actual domain)
DOMAIN_NAME=DOMAIN_PLACEHOLDER
LETSENCRYPT_EMAIL=EMAIL_PLACEHOLDER

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Production database (PostgreSQL recommended)
DATABASE_URL=postgresql://devsim_user:{DB_PASSWORD}@postgres:5432/devsim_prod
# DB password loaded from /run/secrets/db_password

# Connection pooling
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================
AUTHENTICATION_ENABLED=true

# Keycloak Configuration
KEYCLOAK_ENABLED=true
KEYCLOAK_SERVER_URL=https://keycloak.yourdomain.com
KEYCLOAK_REALM=devsim-prod
KEYCLOAK_CLIENT_ID=devsim-app
# KEYCLOAK_CLIENT_SECRET loaded from /run/secrets/keycloak_client_secret
KEYCLOAK_ADMIN_USERNAME=admin
# KEYCLOAK_ADMIN_PASSWORD loaded from /run/secrets/keycloak_admin_password

# =============================================================================
# CORS & SECURITY HEADERS
# =============================================================================
# Restrictive CORS policy - only allow specific domains
# Replace with your actual production domains
CORS_ORIGINS=https://devsim.yourdomain.com,https://www.devsim.yourdomain.com,https://api.devsim.yourdomain.com

# =============================================================================
# UPLOAD & LIMITS
# =============================================================================
MAX_CONTENT_LENGTH=10485760
UPLOAD_FOLDER=/app/uploads

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=/app/logs/devsim.log
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://redis:6379/0

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=devsim-backups

# =============================================================================
# DOCKER SECRETS CONFIGURATION
# =============================================================================
USE_DOCKER_SECRETS=true
